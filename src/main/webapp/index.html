<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Information Météo</title>
   <script src="jquery.js"></script>
   <script>
   $(document).ready(function() {
	   $('.details').hide();
	   $("#submit").click(function(){
		   var city = $("#city").val();
		   var country = $("#country").val();

		   var obj =  {"city": city ,"country": country};

	   		var jqxhr =
		       $.ajax({
		           url: "http://services-msauve.app.mtl.rhug.ca/weather",
				   contentType : "application/json", 
			       processData : false,
		           type : "POST",
		           data: JSON.stringify(obj)
		       })
		       .done (function(data) { 
			      
			       $('.weather-data').append(JSON.stringify(data)) 
				   $('.weather-city').html("Météo pour:"+city)
				   $('.details.weather-lat').html(""+data.coord.lat)  
				   $('.details.weather-long').html(""+data.coord.lon)
				   
				   
				   $('.details').show()
				  })
		       .fail (function(jqXHR, textStatus)  { alert("Error "+textStatus); })
		       ;
	   });	   
   });
	  
   	
   </script>

</head>
<body>
 

<div id="form">
<h3>Information Météo</h3>
<div>
<label>Ville :</label>
<input id="city" type="text">
<label>Pays :</label>
<input id="country" type="text">
<input id="submit" type="button" value="Obtenir la météo">
</div>
</div>
  
<div class="details">  
  
  <p class="weather-city"/>

  <label>Latitude: </label> <label class="weather-lat"></label>
  <label>Longitude: </label><label class="weather-long"></label>
 </div> 
 
  <div>
      <p class="weather-data">WEATHER: </p>
  </div>
	
	
	   
</body>
</html>
