<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Information Météo</title>
   <script src="jquery.js"></script>
   <script>
   $(document).ready(function() {
	   $('.details').hide();
	   $("#submit").click(function(){
		   var city = $("#city").val();
		   var country = $("#country").val();

		   var obj =  {"city": city ,"country": country};

	   		var jqxhr =
		       $.ajax({
		           url: "http://services-msauve.app.mtl.rhug.ca/weather",
				   contentType : "application/json", 
			       processData : false,
		           type : "POST",
		           data: JSON.stringify(obj)
		       })
		       .done (function(data) { 
			       var weather = data.data;
			       var currentCondition = weather.current_condition[0];
			       $('.weather-data').html(JSON.stringify(weather))
				   $('.cur_temp').html(currentCondition.temp_C+'&deg;C | '+currentCondition.temp_F+'&deg;F')
				   $('.cur_desc').html(currentCondition.lang_fr[0].value)	
				   $('.cur_hum').html(currentCondition.humidity) 				   
				   $('.details').show();
				  })
		       .fail (function(jqXHR, textStatus)  { alert("Error "+textStatus); })
		       ;
	   });	   
   });
	  
   	
   </script>

</head>
<body>
 

<div id="form">
<h3>Information Météo</h3>
<div>
<label>Ville :</label>
<input id="city" type="text">
<label>Pays :</label>
<input id="country" type="text">
<input id="submit" type="button" value="Obtenir la météo">
</div>
</div>
  
<div class="details">  
<div class="cur_temp"></div>
<p>Actuellement: <span class="cur_desc"></span></p>
<p>Vent: S at 8 mph/13.0 km/h</p>
<p>Humidité: 63% <span class="cur_hum"></span>%</p>

</div>

<div>
      <p class="weather-data">WEATHER: </p>

</div>
	
	
	   
</body>
</html>
